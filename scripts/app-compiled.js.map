{"version":3,"sources":["../js/app.js"],"names":[],"mappings":"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","file":"app-compiled.js","sourcesContent":["$(function () {\r\n  // wikipedia api variables\r\n  let apiRandom = 'https://en.wikipedia.org/w/api.php?format=json&action=query&list=random&rnredirect=true';\r\n  let api = 'https://en.wikipedia.org/w/api.php?format=json&action=query&generator=search&gsrnamespace=0&gsrlimit=10&prop=pageimages|extracts&pilimit=max&exintro&explaintext&exsentences=1&exlimit=max&gsrsearch=';\r\n  let callback = '&callback=JSON_CALLBACK';\r\n  let article = 'https://en.wikipedia.org/?curid=';\r\n\r\n  // dom element variables;\r\n  let randomArticle = document.getElementById('random-article');\r\n  let inPart = document.querySelector('.initial-part');\r\n  let $container = $('#container');\r\n  let footer = document.querySelector('.footer');\r\n\r\n\r\n  // if ($(document).height() <= $(window).height()) {\r\n  //   footer.classList.add = \"navbar-fixed-bottom\";\r\n  // } else if($(document).height() > $(window).height()){\r\n  //   $(\".footer\").classList.remove = 'navbar-fixed-bottom';\r\n  // }\r\n\r\n   // to get data for random article on page's load\r\n  $.ajax({\r\n    url: apiRandom + callback,\r\n    data: {\r\n      format: 'json'\r\n    },\r\n    dataType: 'jsonp'\r\n  }).done( function ( data ) {\r\n    //console.log(data);\r\n    //let elRandom = document.getElementById('random-article');\r\n    //console.log(data.query.random[0].id);\r\n    randomArticle.href = article + data.query.random[0].id;\r\n  });\r\n\r\n  $('#info').on('keydown', function(event) {\r\n    // console.log(event.keyCode, event.type);\r\n    let title = $('#info').val();\r\n\r\n    if(event.type === 'keydown' && event.keyCode == 13) {\r\n      $.ajax({\r\n        url: api + title + callback,\r\n        data: {\r\n          format: 'json'\r\n        },\r\n        dataType: 'jsonp'\r\n      }).done(function (data) {\r\n        console.log(data.query);\r\n        if(data.query === undefined && title !== '') {\r\n          inPart.style.paddingTop = 20 + '%';\r\n          $container.html('<div class=\"text-center text\">The page \"<b>' + title + '</b>\" does not exist. You can ask for it to be created</div>');\r\n        } else if(title === '') {\r\n          inPart.style.paddingTop = 20 + '%';\r\n          $container.html('<div class=\"text-center text\">Please, enter your query.</div>');\r\n        } else {\r\n        inPart.style.paddingTop = 0;\r\n        console.log(data);\r\n        let page = data.query.pages;\r\n        $container.html('');\r\n          for (let prop in page) {\r\n\r\n            if (page.hasOwnProperty(prop)) {\r\n              console.log(page[prop].title);\r\n\r\n              let link = document.createElement('a');\r\n              let paragraph = document.createElement('p');\r\n              let elDiv = document.createElement('div');\r\n\r\n              link.innerHTML = '<h3>' + page[prop].title + '</h3>';\r\n              paragraph.textContent = page[prop].extract;\r\n              link.setAttribute('href', article + page[prop].pageid);\r\n              link.setAttribute('target', '_blank');\r\n              elDiv.id = 'wrapper';\r\n              elDiv.classList = 'col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2';\r\n              link.appendChild(paragraph);\r\n              elDiv.append(link);\r\n              $container.append(elDiv);\r\n            }\r\n          }\r\n        }\r\n      });\r\n      return false;\r\n    }\r\n  });\r\n\r\n\r\n\r\n  $('#random-article').on('click', function () {\r\n    $.ajax({\r\n      url: apiRandom + callback,\r\n      data: {\r\n        format: 'json'\r\n      },\r\n      dataType: 'jsonp'\r\n    }).done( function ( data ) {\r\n      //console.log(data);\r\n      //console.log(data.query.random[0].id);\r\n      randomArticle.href = article + data.query.random[0].id;\r\n    });\r\n  });\r\n\r\n\r\n\r\n});"]}